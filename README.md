# üéôÔ∏è Podcast Reels Forge

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ Reels/Shorts –∏–∑ –ø–æ–¥–∫–∞—Å—Ç–æ–≤ (–ª–æ–∫–∞–ª—å–Ω–æ)

[![Python 3.10+](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

[English](README.en.md) | **–†—É—Å—Å–∫–∏–π**

---

## üìå –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç](#—á—Ç–æ-–¥–µ–ª–∞–µ—Ç-–ø—Ä–æ–µ–∫—Ç)
- [–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏](#–∫–ª—é—á–µ–≤—ã–µ-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω –ø–∞–π–ø–ª–∞–π–Ω](#–∫–∞–∫-—É—Å—Ç—Ä–æ–µ–Ω-–ø–∞–π–ø–ª–∞–π–Ω)
- [–ì–¥–µ –ª–µ–∂–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã](#–≥–¥–µ-–ª–µ–∂–∞—Ç-—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
- [–ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏](#–∞—Ä–≥—É–º–µ–Ω—Ç—ã-–∫–æ–º–∞–Ω–¥–Ω–æ–π-—Å—Ç—Ä–æ–∫–∏)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (config.yaml)](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-configyaml)
- [Smart Crop –ø–æ –ª–∏—Ü—É](#smart-crop-–ø–æ-–ª–∏—Ü—É)
- [–ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–¥–µ–æ](#–ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è-–≤–∏–¥–µ–æ)
- [–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å](#–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å-–∏-—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å)
- [–õ–∏—Ü–µ–Ω–∑–∏—è](#–ª–∏—Ü–µ–Ω–∑–∏—è)

---

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç

**Podcast Reels Forge** ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≤–∏—Ä–∞–ª—å–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤ (Reels, Shorts, TikTok) –∏–∑ –¥–ª–∏–Ω–Ω—ã—Ö –ø–æ–¥–∫–∞—Å—Ç–æ–≤ –∏–ª–∏ –∏–Ω—Ç–µ—Ä–≤—å—é. –û–Ω –±–µ—Ä–µ—Ç –Ω–∞ —Å–µ–±—è –≤—Å—ë ‚Äî –æ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏ –¥–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –º–æ–Ω—Ç–∞–∂–∞.

–û—Å–Ω–æ–≤–Ω—ã–µ —ç—Ç–∞–ø—ã —Ä–∞–±–æ—Ç—ã:

1. **–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ (Whisper)**: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∞—É–¥–∏–æ/–≤–∏–¥–µ–æ –≤ —Ç–µ–∫—Å—Ç —Å —Ç–æ—á–Ω—ã–º–∏ —Ç–∞–π–º–∫–æ–¥–∞–º–∏.
2. **–î–∏–∞—Ä–∏–∑–∞—Ü–∏—è (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Å–ø–∏–∫–µ—Ä–æ–≤ –≤ –∑–∞–ø–∏—Å–∏.
3. **AI –ê–Ω–∞–ª–∏–∑ (LLM)**: –ü–æ–∏—Å–∫ —Å–∞–º—ã—Ö –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –∏ –≤–∏—Ä–∞–ª—å–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ü–µ–ø–ª—è—é—â–∏—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤.
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ (FFmpeg)**: –ù–∞—Ä–µ–∑–∫–∞ –∫–ª–∏–ø–æ–≤, –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π –∫—Ä–æ–ø (9:16) –∏ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –ª–∏—Ü–∞–º.

–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: [docs/USER_GUIDE.md](docs/USER_GUIDE.md)

---

## –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **Batch-–æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ü—Ä–æ—Å—Ç–æ –ø–æ–ª–æ–∂–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∏–¥–µ–æ –≤ `input/`, –∏ Forge –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –∏—Ö –ø–æ –æ—á–µ—Ä–µ–¥–∏.
- **–ú—É–ª—å—Ç–∏-–º–æ–¥–µ–ª—å–Ω–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ **Ollama** (qwen3, deepseek, gemma) –∏ –æ–±–ª–∞—á–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (OpenAI, Anthropic, Gemini).
- **Smart Face Crop**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ª–∏—Ü –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞–¥—Ä–∞ –ø—Ä–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π –Ω–∞—Ä–µ–∑–∫–µ.
- **–ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **CUDA** –¥–ª—è Whisper –∏ **NVENC** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –≤–∏–¥–µ–æ.
- **Ollama Watchdog**: –ö–æ–Ω—Ç—Ä–æ–ª—å –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∑–∞–≤–∏—Å—à–∏—Ö –≥–µ–Ω–µ—Ä–∞—Ü–∏–π.
- **–ì–∏–±–∫–∏–µ —Ç–∏–ø—ã –∫–ª–∏–ø–æ–≤**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è Stories, Reels –∏ Highlights –æ—Ç–¥–µ–ª—å–Ω–æ.

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python 3.10+**
- **FFmpeg** (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ PATH)
- **Ollama** (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ LLM)
- **NVIDIA GPU** (–∫—Ä–∞–π–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
python3 -m venv whisper-env
source whisper-env/bin/activate
pip install -r requirements.txt
```

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–ü–æ–ª–æ–∂–∏—Ç–µ –≤–∞—à–∏ –≤–∏–¥–µ–æ—Ñ–∞–π–ª—ã (mp4, mkv, mov) –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `input/`.
*–°–æ–≤–µ—Ç: –ï—Å–ª–∏ —Ä—è–¥–æ–º —Å –≤–∏–¥–µ–æ –ª–µ–∂–∏—Ç –æ–¥–Ω–æ–∏–º–µ–Ω–Ω—ã–π –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∞—É–¥–∏–æ—Ñ–∞–π–ª, —Å–∫—Ä–∏–ø—Ç –æ—Ç–¥–∞—Å—Ç –µ–º—É –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏.*

### –ó–∞–ø—É—Å–∫

```bash
python3 start_forge.py
```

---

## –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω –ø–∞–π–ø–ª–∞–π–Ω

–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä [start_forge.py](start_forge.py) –∑–∞–ø—É—Å–∫–∞–µ—Ç [podcast_reels_forge/pipeline.py](podcast_reels_forge/pipeline.py), –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç–∞–¥–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞:

1. **Transcription**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `faster-whisper`. –í—ã—Ö–æ–¥: `output/<file_stem>/<audio_name>.json`.
2. **Diarization**: (–ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ) –°–æ–∑–¥–∞–µ—Ç `diarization.json`.
3. **Analyze (Parallel)**: –ê–Ω–∞–ª–∏–∑ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞ –≤—Å–µ–º–∏ –º–æ–¥–µ–ª—è–º–∏, —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –≤ –∫–æ–Ω—Ñ–∏–≥–µ. –ö–∞–∂–¥–∞—è –º–æ–¥–µ–ª—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ `output/<file_stem>/<model_name>/`.
4. **Video Processing**: –ù–∞—Ä–µ–∑–∫–∞ –∫–ª–∏–ø–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ `moments.json`, —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª—å—é.

---

## –ì–¥–µ –ª–µ–∂–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–í–Ω—É—Ç—Ä–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `output/`:

```text
output/
  my_podcast/
    video.json            # –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç
    diarization.json      # (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–ø–∏–∫–µ—Ä–∞—Ö
    qwen3/                # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–¥–µ–ª–∏ Qwen
      moments.json        # –°–ø–∏—Å–æ–∫ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤
      reels.md            # –û–ø–∏—Å–∞–Ω–∏—è –∫–ª–∏–ø–æ–≤
      reels/              # –ù–∞—Ä–µ–∑–∞–Ω–Ω—ã–µ .mp4 –∫–ª–∏–ø—ã
      reels_preview.mp4   # –ü—Ä–µ–≤—å—é –≤—Å–µ—Ö –∫–ª–∏–ø–æ–≤ –æ–¥–Ω–∏–º —Ñ–∞–π–ª–æ–º
    deepseek/             # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–¥–µ–ª–∏ DeepSeek
      ...
```

---

## –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–ª–∞–≥–∏ –¥–ª—è `start_forge.py`:

- `--config <path>`: –ü—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `config.yaml`).
- `--verbose`: –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ –∏ –ª–æ–≥–æ–≤.
- `--quiet`: –†–µ–∂–∏–º "—Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏".
- `--no-skip-existing`: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å—Ç–∞–¥–∏–∏, –¥–∞–∂–µ –µ—Å–ª–∏ —Ñ–∞–π–ª—ã —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç.
- `--autotune`: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–¥ —Ç–µ–∫—É—â–µ–µ –∂–µ–ª–µ–∑–æ (–º–µ–Ω—å—à–µ —á–∞–Ω–∫–∏, –±–æ–ª—å—à–µ —Ç–∞–π–º–∞—É—Ç—ã).
- `--no-progress`: –û—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä (–ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –ª–æ–≥–æ–≤/CI).

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (config.yaml)

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ–∫—Ü–∏–∏

- **`transcription`**: –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ Whisper (`medium`, `large-v3`), —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (`cuda`/`cpu`) –∏ —è–∑—ã–∫–∞.
- **`ollama`**:
  - `models`: –°–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.
  - `watchdog`: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–π–º–∞—É—Ç–æ–≤ –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∑–∞–≤–∏—Å–∞–Ω–∏–π.
  - `model_overrides`: –¢–≤–∏–∫–∏ —Ç–∞–π–º–∞—É—Ç–æ–≤ –∏ —Ä–∞–∑–º–µ—Ä–æ–≤ —á–∞–Ω–∫–æ–≤ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π.
- **`processing`**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–ª–∏–ø–æ–≤ (`stories`, `reels`, `highlights`).
- **`video`**:
  - `vertical_crop`: –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω 9:16.
  - `smart_crop_face`: –í–∫–ª—é—á–∏—Ç—å —É–º–Ω–æ–µ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –ª–∏—Ü–∞–º.
  - `use_nvenc`: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ NVIDIA.
- **`diarization`**: –í–∫–ª—é—á–µ–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ø–∏–∫–µ—Ä–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç—Å—è HuggingFace token).

---

## Smart Crop –ø–æ –ª–∏—Ü—É

–ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ `smart_crop_face: true` –≤ –∫–æ–Ω—Ñ–∏–≥–µ:

1. –° –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–ø–∞ –±–µ—Ä–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞–¥—Ä–æ–≤-—Å–µ–º–ø–ª–æ–≤.
2. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞—Å–∫–∞–¥—ã –•–∞–∞—Ä–∞ (OpenCV) –¥–ª—è –ø–æ–∏—Å–∫–∞ –ª–∏—Ü.
3. –ï—Å–ª–∏ –ª–∏—Ü–∞ –Ω–∞–π–¥–µ–Ω—ã, –æ–∫–Ω–æ 9:16 —Å–º–µ—â–∞–µ—Ç—Å—è —Ç–∞–∫, —á—Ç–æ–±—ã —Å–ø–∏–∫–µ—Ä –±—ã–ª –≤ —Ü–µ–Ω—Ç—Ä–µ.
4. –ï—Å–ª–∏ –ª–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∫—Ä–æ–ø –ø–æ —Ü–µ–Ω—Ç—Ä—É.

---

## –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–¥–µ–æ

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∏–¥–µ–æ (–±–∏—Ç—Ä–µ–π—Ç, –∫—Ä–æ–ø, –æ—Ç—Å—Ç—É–ø—ã) –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –¥–æ–ª–≥–æ–≥–æ AI-–∞–Ω–∞–ª–∏–∑–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [rerender_videos.py](rerender_videos.py):

```bash
# –ü–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –≤—Å—ë —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º smart crop
python3 rerender_videos.py --smart-crop-face --replace
```

---

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å

- **Whisper**: –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ Out of Memory (OOM), –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–¥–µ–ª–∏ `small` –∏–ª–∏ `base`.
- **Ollama**: –ï—Å–ª–∏ –º–æ–¥–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ, —É–≤–µ–ª–∏—á—å—Ç–µ `first_token_timeout` –≤ –∫–æ–Ω—Ñ–∏–≥–µ.
- **FFmpeg**: –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö —ç–Ω–∫–æ–¥–µ—Ä–∞ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫–ª—é—á–∏—Ç—å `use_nvenc` –≤ –∫–æ–Ω—Ñ–∏–≥–µ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –Ω–∞ CPU.

---

## –õ–∏—Ü–µ–Ω–∑–∏—è
